<!doctype html>
<html lang="fr">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <link href="style.css" rel="stylesheet">

    <title>GBAF</title>
  </head>
  <body>
    <img id="logo" src="GBAF2/image/gbaf.png"> 
    <h1>Le Groupement Banque Assurance Français</h1>
      <br/><br/>
<?php
session_start();

$bdd = new PDO('mysql:host=localhost;dbname=nom_base;charset=utf8', 'root', 'root');
      if(isset($_POST['formconnect']))
      {
        $usernameconnect=htmlspecialchars($_POST[usernameconnect]);
        $mdpconnect=sha1($_POST['mdpconnect']);
        if(!empty($usernameconnect) AND !empty($mdpconnect))
        {
          $requser=$bdd- >prepare("SELECT * FROM membres WHERE nomdutilisateur=? AND motdepasse=? ");
          $requser- >execute(array($usernameconnect, $mdpconnect));
          $userexist=$requser- >rowCount();
          if($userexist==1)
          {
            $userinfo=$requser- >fetch();
            $_SESSION['id']=$userinfo['id'];
            $_SESSION['username']=$userinfo['username'];
            header("LOCATION: profil.php?id=".$_SESSION['id']);
          }
          else
          {
            $erreur="Nom d'utilisateur et/ou mot de passe incorrect";
          }  

        }
        else
        {
          $erreur="Tous les champs doivent être complétés";
        }
      }
      <div>
        <h3>Connexion</h3>
          <br/><br/>
          <form method="POST" action="">
            <input type="text" name="usernameconnect" placeholder="Nom d'utilisateur">
             <input type="password" name="mdpconnect" placeholder="Mot de passe">
              <input type="submit" name="formconnect" value="se connecter">
?>
  </body>
</html>
